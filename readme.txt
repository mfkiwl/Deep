/*-----------------------------运行速度----------------------------------*/
数据读取速度:10s数据1.2s
接收机运行速度:4颗卫星10s数据16s

/*-----------------------------注释规范----------------------------------*/
1.所有标点符号使用英文标点符号
2.脚本文件代码段的注释以.结尾,因为发布时标题下面的多行注释会连城一行
3.要保证发布时格式美观

/*--------------------------文件夹命名规则-------------------------------*/
以.开头的文件夹是测试用的,与功能无关,只有使用时才加入搜索路径

/*---------------------------变量命名规则--------------------------------*/
k,i:做循环计数
n:数据点数
svN:卫星数
rp:接收机ecef位置
vp:接收机ecef速度
rs:卫星ecef位置
vs:卫星ecef速度

/*---------------------------卫星系统代号--------------------------------*/
G(GPS),R(GLONASS),E(Galileo),C(BDS),J(QZSS),I(IRNSS),参见RINEX 3.03

/*-------------------------卫星测量值修正符号-----------------------------*/
卫星钟差/钟频差对伪距/伪距率的修正是+
接收机钟差/钟频差对伪距/伪距率的修正是-
延迟项对伪距的修正是-

/*-----------------------------编程技巧----------------------------------*/
1.norm(a)比sqrt(a*a')快
2.cos比cospi快,cospi比cos精确
3.修改一行或一列向量中一段的数值时,所提供的数不必特意转成行或者列
4.sscanf比str2num快
5.使用索引直接扩展向量长度时,默认是行
6.ones(8,1)*x比repmat(x,8,1)快
7.矩阵各行取模,当行数小于50时,vecnorm(a,2,2)比sum(a.*a,2).^0.5快
8.主函数只写流程,跟算法相关的全部封装,要么是单独的函数文件,要么是嵌套函数
9.[0,0,0,0]比zeros(1,4)快
10.使用q/norm(q)代替quatnormalize
11.生成一个随机数时,randn比randn(1)快
12.矩阵索引,(1+1:5000+1)比(1+(1:5000))快
13.向量乘一个数比除一个数快
14.sum(a)/length(a)算均值比mean快
15.读文件,空行读到一个空字符矩阵,读到文件尾,返回-1(double)

/*-----------------------------更新日志----------------------------------*/
<===Version 1.0===> 2020.2.18
1.建立软件架构
2.实现GPS单天线L1CA接收机,具备捕获跟踪功能
3.添加GPS历书星历下载
4.添加BDS星历下载
5.添加RINEX 2 GPS星历文件读取

<===Version 1.1===> 2020.2.22
使用结构体配置接收机和跟踪通道

<===Version 1.2===> 2020.2.23
1.添加RINEX 3.03 BDS星历文件读取
2.添加画北斗星座图
3.星座图添加滑动条功能,调整高度角显示范围,看清重叠的卫星

<===Version 1.3===> 2020.2.26
1.复杂流程使用嵌套函数
2.为GPS单天线L1CA接收机添加定位功能

<===Version 1.4===>2020.2.27
1.FLL,PLL,DLL不用结构体,使用向量,用于加速
2.删除roundWeek,用于加速
3.添加卫星加速度计算
4.添加载波频率变化率前馈

<===Version 1.5===>2020.2.28
1.计算各卫星伪距伪距率残差
2.将接收机类从一个文件拆成文件夹

<===Version 1.6===>2020.3.1
1.整理代码注释,使代码可以发布
2.简化卫星方位角高度角计算程序
3.接收机运行后可以计算卫星的方位角高度角
4.接收机运行后可以计算电离层校正值

<===Version 1.7===>2020.3.5
1.添加静态惯导滤波测试,验证状态约束卡尔曼滤波的效果
2.添加卫星3D显示
3.添加所有GPS卫星捕获画图

<===Version 1.8===>2020.3.5
1.重写姿态角,姿态阵,四元数之间的相互变换,为了加速(只能处理一个数据)
2.重写四元数乘法

<===Version 1.9===>2020.3.7
1.删除默认数据路径和结果路径文件,选择文件时将常用文件夹加入快速访问
2.添加IMU测试(研究了如何在静止时加入陀螺仪输出量测,如何构造航向修正约束)

<===Version 1.10===>2020.3.13
1.添加载波跟踪滤波器测试(研究了如何设计级联卡尔曼滤波,在信号跟踪时级联滤波的具
  体设计)

<===Version 1.11===>2020.3.15
1.添加递推计算均值方差类
2.添加接收机时钟修正
3.新建GPS单天线深组合程序,可以读取IMU数据,并在IMU采样时间点进行定位

<===Version 1.12===>2020.4.8
1.添加GPS紧组合
2.所有类取消不能修改属性的限制
3.引入channel = obj.channels(k);
4.接收机类和通道类中的函数全部独立成文件,在定义类时声明其属性
  参见help-Methods in Separate Files

<===Version 1.13===>2020.4.9
1.添加GPS深组合,单天线深组合和紧组合使用的导航滤波器相同

<===Version 1.14===>2020.4.9
1.添加深组合载波驱动频率控制
2.通道存载波驱动频率
3.优化二阶锁相环,二阶延迟锁定环计算过程

<===Version 1.15===>2020.4.15
1.添加信号质量指示器
2.添加载体运动引起的载波加速度
3.单天线深组合需要输入航向角

<===Version 1.16===>2020.6.6
1.IMU数据预滤波

<===Version 2.0===>2020.8.2
1.添加北斗历书下载
2.添加NovAtel数据解析
3.添加SBG数据导入
4.添加USRP测试程序
5.修改UTC到GPS时和北斗时的转换程序,去掉秒数取整
6.通道类自带绘图函数
7.修改交互星座图回调函数机制
8.GPS星历解析时不能以第三子帧开始
9.添加GPS+BDS接收机

<===Version 2.1===>2020.8.3
1.添加通道类画鉴相器输出
2.组合导航滤波器加零偏估计约束,解决运动到静止恢复慢的问题
3.整理编码格式

<===Version 2.2===>2020.8.5
1.接收机只使用一个时间系统
2.添加北斗定位

<===Version 2.3===>2020.8.6
1.将GPS接收机的交互星座图改为新方法

<===Version 2.4===>2020.8.9
1.添加GPS+BDS深组合

<===Version 2.5===>2020.8.10
1.添加GPS+BDS接收机获取运行结果和画3D星座图
2.添加加权卫星导航解算
3.通道添加鉴相器方差计算
4.添加卫星数量统计

<===Version 2.6===>2020.8.11
1.长时间失锁放弃跟踪
2.定位之前检验几何精度因子,太大不解算

<===Version 2.7===>2020.8.13
1.修复一些bug
